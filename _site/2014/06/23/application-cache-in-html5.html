<!DOCTYPE html><html lang="en" manifest="/manifest.appcache"> <!-- Magic. Do not touch! (c) 2011-2016 Maciej A. Czyzewski --><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><meta name="robots" content="index, follow, archive" /><meta name="referrer" content="always" /><title>Application cache in HTML5 - Maciej A. Czyzewski on the Web</title><meta property="og:title" content="Application cache in HTML5" /><meta name="description" content="Often there is no time to retrieve packages again. It’s becoming increasingly important for web-based applications to be accessible offline." /><meta property="og:description" content="Often there is no time to retrieve packages again. It’s becoming increasingly important for web-based applications to be accessible offline." /><link rel="canonical" href="http://maciejczyzewski.me/2014/06/23/application-cache-in-html5.html" /><meta property="og:url" content="http://maciejczyzewski.me/2014/06/23/application-cache-in-html5.html" /><meta property="og:site_name" content="Maciej A. Czyzewski on the Web" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2014-06-23T23:16:00+02:00" /><link rel="next" href="http://maciejczyzewski.me/2014/07/13/turn-fire-into-electricity.html" title="Turn fire into electricity..." /><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@_czyzewski" /><meta name="google-site-verification" content="HBawTMww3xGdm4ZIKokBD8_Bx3YudVqrv1PISdhnthE" /> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BlogPosting", "headline": "Application cache in HTML5", "datePublished": "2014-06-23T23:16:00+02:00", "description": "Often there is no time to retrieve packages again. It’s becoming increasingly important for web-based applications to be accessible offline.", "logo": "http://maciejczyzewski.me/assets/images/shortcuts/144.png", "url": "http://maciejczyzewski.me/2014/06/23/application-cache-in-html5.html" } </script><link type="application/atom+xml" rel="alternate" href="http://maciejczyzewski.me/feed.xml" title="Maciej A. Czyzewski on the Web" /><link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic" /> <script type="text/x-mathjax-config"> MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}}); </script> <script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"></script><link media="all" rel="stylesheet" type="text/css" href="/assets/styles.css" /></head><line></line><header> <a href="/">Maciej A. Czyzewski</a> <a href="/archive">Archive</a> <a href="/research">Research</a> <a href="/projects">Projects</a> <a href="/talks">Talks</a> <a href="/about">About</a></header><main><article><h1>Application cache in HTML5</h1><hgroup> <span>Posted on <time datetime="">23 June 2014</time></span> <a href="https://twitter.com/share" class="twitter-share-button" data-via="_czyzewski" data-size="large">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></hgroup><div><p>Often there is no time to retrieve packages again. It’s becoming increasingly important for web-based applications to be accessible offline.</p><p><img src="https://lh3.googleusercontent.com/gr3ro0txc2HTy0k0jPWRs2_36FI6ritRWwhlhDGMohw-7HIUMpNCopwKxA_2bly7P3vvIp1Rd5N29GVztmy8Y6KB8N8Gah3iNyqNPTKko0NwzLfnL1JOmxrcrjBZgk8SuawcfPEEE3u1RXAZS5ZSociuOq75K1-K5NtC6yrVQOpgm-03J1bgLWsac4D9IUnOTVv4Dp4v5jtFSC2qIVU9qCDKI6wP1fZyuNBXOu6M8034otqITbwLWSGfZk_KHV1W6KasnbJLm9RQa1L3Id993eMv8b4u6csSWMiQYXhYR58nx-LU5HGdXBR80Vla1QLcHg1ZUpYyxWv0Xg9uNkNsv0ljyp_QjdV3QgzDLvZtJ_7UFwb15NZzoE2lmR1iuKho77qf0yyh7CSgyApJhDxqPsMBa4wR8Vz3ciHzVxWKDs1GkgmJRKaZnSS1V_kM5LSiAhsQFHILhcIf9Q2cWUtk3O6cigzVV9kv18zmSyX339VtkgFD_-nQ3mZJWmTpp-bxZr4xT3aUuong3IsmC_3YO1MEdtdhTvzUwBwnAvNl75kaBeYBmNasdw1G5Y5sNWDSWDVR-BZfiuf0VHG7iFq9XyP_XrjObfs=w1155-h545-no" alt="Diagram" /></p><blockquote><p>The cache manifest in HTML5 is a software storage feature which provides the ability to access a web application even without a network connection.</p></blockquote><p>Advantages:</p><ul><li><strong>Offline browsing</strong> - users can navigate your full site when they’re offline</li><li><strong>Speed</strong> - resources come straight from disk, no trip to the network</li><li><strong>Resilience</strong> - if your site goes down for “standard”, your users will get the offline experience</li></ul><p>Disadvantages:</p><ul><li><strong>Outdated</strong> - packages don’t resent automatically</li><li><strong>Storage limit</strong> - between 5 MB to 10 MB</li></ul><h2 id="referencing">Referencing</h2><p>To enable the application cache for an app, include the manifest attribute on the document’s <code class="highlighter-rouge">html</code> tag:</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html</span> <span class="na">manifest=</span><span class="s">"example.appcache"</span><span class="nt">&gt;</span>
    ...
<span class="nt">&lt;/html&gt;</span></code></pre></figure><p>A manifest file must be served with the mime-type <code class="highlighter-rouge">text/cache-manifest</code>. You may need to add a custom file type to your web server or <code class="highlighter-rouge">.htaccess</code> configuration.</p><p>For example, to serve this mime-type in Apache, add this line to your config file:</p><div class="highlighter-rouge"><pre class="highlight"><code>AddType text/cache-manifest .appcache
</code></pre></div><h2 id="structure">Structure</h2><p>The manifest is a separate file you link to via the manifest attribute on the html element. A simple manifest looks something like this:</p><div class="highlighter-rouge"><pre class="highlight"><code>CACHE MANIFEST
# 2014-01-01:v5

# Explicitly cached
CACHE:
favicon.ico
index.html
styles/main.css
scripts/main.js
images/logo.png

# Resources that require the user to be online
NETWORK:
*
</code></pre></div><h2 id="status">Status</h2><p>The <code class="highlighter-rouge">window.applicationCache</code> object is your programmatic access the browser’s app cache. It’s status property is useful for checking the current state of the cache:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">appCache</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">applicationCache</span><span class="p">;</span>

<span class="c1">// appCache.status</span>

<span class="c1">// UNCACHED     == 0</span>
<span class="c1">// IDLE         == 1</span>
<span class="c1">// CHECKING     == 2</span>
<span class="c1">// DOWNLOADING  == 3</span>
<span class="c1">// UPDATEREADY  == 4</span>
<span class="c1">// OBSOLETE     == 5</span></code></pre></figure><h2 id="jekyll">Jekyll</h2><p>If you are using <a href="http://jekyllrb.com/">jekyll</a>, you can do this things easily:</p><div class="highlighter-rouge"><pre class="highlight"><code>---
---
CACHE MANIFEST
# {{ site.time | date_to_xmlschema }}
# here, list of your files...
</code></pre></div></div><nav> <a href=""> </a> <a href="/2014/07/13/turn-fire-into-electricity.html"><p>next »</p><span>Turn fire into electricity...</span> </a></nav></article></main><footer> (c) 2016 <a href="/feed.xml"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M12.8 16C12.8 8.978 7.022 3.2 0 3.2V0c8.777 0 16 7.223 16 16h-3.2zM2.194 11.61c1.21 0 2.195.985 2.195 2.196 0 1.21-.985 2.194-2.196 2.194C.984 16 0 15.017 0 13.806c0-1.21.983-2.195 2.194-2.195zM10.606 16h-3.11c0-4.113-3.383-7.497-7.496-7.497v-3.11c5.818 0 10.606 4.79 10.606 10.607z"/></svg></a></footer><script type="text/javascript">(function(e,t,n,r,i,s,o){e["GoogleAnalyticsObject"]=i;e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date;s=t.createElement(n),o=t.getElementsByTagName(n)[0];s.async=1;s.src=r;o.parentNode.insertBefore(s,o)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-55884794-1","auto");ga("send","pageview")</script></body></html>
